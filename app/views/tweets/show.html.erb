<div class="container">
  <div class="row">
    <div>
      <p><%= @tweet.user.name %></p>
      <%= @tweet.created_at.strftime('%Y/%m/%d %H:%M') %>
      <p><%= @tweet.title %></p>
      <p><%= @tweet.text %></p>
      <p>
        <%= attachment_image_tag @tweet, :image, format: 'jpeg', size: '500x500' %>
      </p>
      <% if @tweet.user == current_user %>
        <%= link_to '編集', edit_tweet_path(@tweet), class: "btn btn-success" %>
      <% end %>
      <% if @tweet.user == current_user %>
        <%= link_to "削除", tweet_path(@tweet), method: :delete, "data-confirm" => "本当に削除しますか？", class: "btn btn-danger" %>
      <% end %>
      <div>
        <%= form_with model: [@tweet, @comment] do |f| %>
          <p><%= f.text_area :text, rows: '5', placeholder: "コメント" %></p>
          <p><%= f.submit "送信" %></p>
        <% end %>
      </div>
      <div>
        <p>コメント数：<%= @tweet.comments.count %></p>
        <% @tweet.comments.each do |comment| %>
          <p><%= comment.user.name %></p>
          <p><%= comment.created_at.strftime('%Y/%m/%d %H:%M') %></p>
          <p><%= comment.text %></p>
          <% if comment.user == current_user %>
            <%= link_to "削除", tweet_comment_path(comment.tweet, comment), method: :delete, "data-confirm" => "本当に削除しますか？", class: "btn btn-danger" %>
          <% end %>
        <% end %>
      </div>
    </div>
  </div>
</div>
